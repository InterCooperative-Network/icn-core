<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="ICN CLI (`icn-cli`)"><title>icn_cli - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-84e720fa.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="icn_cli" data-themes="" data-resource-suffix="" data-rustdoc-version="1.90.0-nightly (f26e58023 2025-06-30)" data-channel="nightly" data-search-js="search-179e01a3.js" data-settings-js="settings-5514c975.js" ><script src="../static.files/storage-4e99c027.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-340f468f.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../icn_cli/index.html">icn_cli</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#icn-cli-icn-cli" title="ICN CLI (`icn-cli`)">ICN CLI (<code>icn-cli</code>)</a><ul><li><a href="#purpose" title="Purpose">Purpose</a></li><li><a href="#current-functionality" title="Current Functionality">Current Functionality</a></li><li><a href="#error-handling" title="Error Handling">Error Handling</a></li><li><a href="#public-api-style" title="Public API Style">Public API Style</a></li><li><a href="#contributing" title="Contributing">Contributing</a></li><li><a href="#license" title="License">License</a></li></ul></li><li><a href="#icn-cli-crate" title="ICN CLI Crate">ICN CLI Crate</a></li></ul><h3><a href="#structs">Crate Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>icn_cli</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/icn_cli/main.rs.html#1-638">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="icn-cli-icn-cli"><a class="doc-anchor" href="#icn-cli-icn-cli">§</a>ICN CLI (<code>icn-cli</code>)</h2>
<p>This crate provides a command-line interface (CLI) for interacting with the InterCooperative Network (ICN).
It allows users and administrators to manage nodes, interact with the network, and perform administrative tasks.
The CLI aims for usability, discoverability, and scriptability.</p>
<h3 id="purpose"><a class="doc-anchor" href="#purpose">§</a>Purpose</h3>
<p>The <code>icn-cli</code> is the primary tool for users to interact with an ICN node from the command line. It connects to an ICN node (via the <code>icn-api</code> crate, which in turn might be an RPC client to a running <code>icn-node</code> instance) to perform actions.</p>
<h3 id="current-functionality"><a class="doc-anchor" href="#current-functionality">§</a>Current Functionality</h3>
<ul>
<li><strong>Node Information:</strong>
<ul>
<li><code>icn-cli info</code>: Display basic information about the connected node (name, version, status).</li>
<li><code>icn-cli status [offline]</code>: Display detailed operational status of the node. The optional <code>offline</code> argument simulates a scenario where the node cannot be reached or reports as offline, allowing testing of error paths.</li>
</ul>
</li>
<li><strong>DAG Operations:</strong>
<ul>
<li><code>icn-cli dag put &lt;DAG_BLOCK_JSON_STRING&gt;</code>: Submits a new DagBlock to the node. The block data must be provided as a complete JSON string.</li>
<li><code>icn-cli dag get &lt;CID_JSON_STRING&gt;</code>: Retrieves a DagBlock from the node by its CID. The CID must be provided as a JSON string.</li>
</ul>
</li>
<li><strong>Network Operations:</strong>
<ul>
<li><code>icn-cli network discover-peers</code>: Query the connected node for peers. With the <code>with-libp2p</code> feature enabled the node will perform real discovery via libp2p.</li>
<li><code>icn-cli network send-message &lt;PEER_ID&gt; &lt;MESSAGE_JSON&gt;</code>: Send a <code>NetworkMessage</code> to a specified peer. Requires the node to run with libp2p networking.</li>
</ul>
</li>
<li><strong>Federation Operations:</strong>
<ul>
<li><code>icn-cli federation join &lt;PEER_ID&gt;</code>: Join a federation by adding the given peer.</li>
<li><code>icn-cli federation leave &lt;PEER_ID&gt;</code>: Leave a federation or remove the peer.</li>
<li><code>icn-cli federation list-peers</code>: List peers known to the node.</li>
<li><code>icn-cli federation status</code>: Display federation status including peer count.</li>
</ul>
</li>
<li><strong>Miscellaneous:</strong>
<ul>
<li><code>icn-cli hello</code>: A simple command to check if the CLI is responsive.</li>
<li><code>icn-cli help</code> or <code>icn-cli --help</code>: Displays usage information.</li>
</ul>
</li>
</ul>
<h3 id="error-handling"><a class="doc-anchor" href="#error-handling">§</a>Error Handling</h3>
<p>The CLI aims to provide clear error messages and exit with appropriate status codes:</p>
<ul>
<li>Successful commands generally exit with status code 0.</li>
<li>Commands that encounter an error (e.g., API error, network error, invalid input) will print an error message to <code>stderr</code> and exit with a non-zero status code (typically 1).</li>
<li>Errors from the underlying API or network services are propagated and displayed to the user in a readable format.</li>
</ul>
<h3 id="public-api-style"><a class="doc-anchor" href="#public-api-style">§</a>Public API Style</h3>
<p>As a CLI application, its “public API” is its command-line arguments, options, and output format (both <code>stdout</code> for data and <code>stderr</code> for errors).</p>
<ul>
<li>Commands are structured hierarchically (e.g., <code>dag put</code>, <code>network discover-peers</code>).</li>
<li>Input for complex data structures (like DagBlocks or NetworkMessages) is currently expected in JSON string format for simplicity in this development phase. Future versions may support file inputs or more structured argument parsing.</li>
<li>Output is human-readable. Successful data retrieval is printed to <code>stdout</code>. Errors and verbose logging (if any) go to <code>stderr</code>.</li>
</ul>
<h3 id="contributing"><a class="doc-anchor" href="#contributing">§</a>Contributing</h3>
<p>Please refer to the main <code>CONTRIBUTING.md</code> in the root of the <code>icn-core</code> repository.</p>
<p>Specific contributions to <code>icn-cli</code> could include:</p>
<ul>
<li>Adding new commands for upcoming features.</li>
<li>Improving argument parsing and validation.</li>
<li>Enhancing output formatting (e.g., table views, alternative output formats like JSON for scriptability).</li>
<li>Adding shell completion scripts.</li>
</ul>
<h3 id="license"><a class="doc-anchor" href="#license">§</a>License</h3>
<p>This crate is licensed under the Apache 2.0 license, as is the entire <code>icn-core</code> repository.</p>
<h2 id="icn-cli-crate"><a class="doc-anchor" href="#icn-cli-crate">§</a>ICN CLI Crate</h2>
<p>This crate provides a command-line interface (CLI) for interacting with an ICN HTTP node.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Cli.html" title="struct icn_cli::Cli">Cli</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="struct" href="struct.DagBlockPayload.html" title="struct icn_cli::DagBlockPayload">DagBlock<wbr>Payload</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="struct" href="struct.PeerReq.html" title="struct icn_cli::PeerReq">PeerReq</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.CclCommands.html" title="enum icn_cli::CclCommands">CclCommands</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="enum" href="enum.Commands.html" title="enum icn_cli::Commands">Commands</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="enum" href="enum.DagCommands.html" title="enum icn_cli::DagCommands">DagCommands</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="enum" href="enum.FederationCommands.html" title="enum icn_cli::FederationCommands">Federation<wbr>Commands</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="enum" href="enum.GovernanceCommands.html" title="enum icn_cli::GovernanceCommands">Governance<wbr>Commands</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="enum" href="enum.MeshCommands.html" title="enum icn_cli::MeshCommands">Mesh<wbr>Commands</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="enum" href="enum.NetworkCommands.html" title="enum icn_cli::NetworkCommands">Network<wbr>Commands</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.anyhow_to_common.html" title="fn icn_cli::anyhow_to_common">anyhow_<wbr>to_<wbr>common</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.get_request.html" title="fn icn_cli::get_request">get_<wbr>request</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_ccl_compile.html" title="fn icn_cli::handle_ccl_compile">handle_<wbr>ccl_<wbr>compile</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_compile_ccl_upload.html" title="fn icn_cli::handle_compile_ccl_upload">handle_<wbr>compile_<wbr>ccl_<wbr>upload</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_dag_get.html" title="fn icn_cli::handle_dag_get">handle_<wbr>dag_<wbr>get</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_dag_put.html" title="fn icn_cli::handle_dag_put">handle_<wbr>dag_<wbr>put</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_fed_join.html" title="fn icn_cli::handle_fed_join">handle_<wbr>fed_<wbr>join</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_fed_leave.html" title="fn icn_cli::handle_fed_leave">handle_<wbr>fed_<wbr>leave</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_fed_list_peers.html" title="fn icn_cli::handle_fed_list_peers">handle_<wbr>fed_<wbr>list_<wbr>peers</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_fed_status.html" title="fn icn_cli::handle_fed_status">handle_<wbr>fed_<wbr>status</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_gov_get_proposal.html" title="fn icn_cli::handle_gov_get_proposal">handle_<wbr>gov_<wbr>get_<wbr>proposal</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_gov_list_proposals.html" title="fn icn_cli::handle_gov_list_proposals">handle_<wbr>gov_<wbr>list_<wbr>proposals</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_gov_submit.html" title="fn icn_cli::handle_gov_submit">handle_<wbr>gov_<wbr>submit</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_gov_tally.html" title="fn icn_cli::handle_gov_tally">handle_<wbr>gov_<wbr>tally</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_gov_vote.html" title="fn icn_cli::handle_gov_vote">handle_<wbr>gov_<wbr>vote</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_info.html" title="fn icn_cli::handle_info">handle_<wbr>info</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_mesh_jobs.html" title="fn icn_cli::handle_mesh_jobs">handle_<wbr>mesh_<wbr>jobs</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_mesh_status.html" title="fn icn_cli::handle_mesh_status">handle_<wbr>mesh_<wbr>status</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_mesh_submit.html" title="fn icn_cli::handle_mesh_submit">handle_<wbr>mesh_<wbr>submit</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dd>Submit a new mesh job to the node</dd><dt><a class="fn" href="fn.handle_metrics.html" title="fn icn_cli::handle_metrics">handle_<wbr>metrics</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_network_ping.html" title="fn icn_cli::handle_network_ping">handle_<wbr>network_<wbr>ping</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dd>Send a ping to the specified peer using the stubbed network service</dd><dt><a class="fn" href="fn.handle_network_stats.html" title="fn icn_cli::handle_network_stats">handle_<wbr>network_<wbr>stats</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.handle_status.html" title="fn icn_cli::handle_status">handle_<wbr>status</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.main.html" title="fn icn_cli::main">main</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.post_request.html" title="fn icn_cli::post_request">post_<wbr>request</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.run_command.html" title="fn icn_cli::run_command">run_<wbr>command</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt></dl></section></div></main></body></html>