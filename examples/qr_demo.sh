#!/bin/bash

# Demo script showing ICN CLI QR functionality
# This demonstrates the new human-usable QR/NFC layer

echo "ğŸš€ ICN QR/NFC Action Demo"
echo "========================="
echo ""
echo "This demo shows how ICN transforms complex cryptographic operations"
echo "into simple tap-and-scan interactions for everyday users."
echo ""

# Simulate CLI commands (since we can't build due to network issues)
echo "ğŸ“± 1. Share Your Identity"
echo "------------------------"
echo "Command: icn-cli qr share-identity did:icn:alice"
echo ""
echo "Result:"
echo "+----------------------------------------------------------+"
echo "| icn://share?did=did%3Aicn%3Aalice                       |"
echo "+----------------------------------------------------------+"
echo ""
echo "ğŸ“± QR Code:"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–„â–„â–„â–„â–„â–„â–„ â–„â–„â–„â–„ â–„â–„â–„â–„â–„â–„â–„ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆ     â–ˆ â–„  â–ˆ â–ˆ     â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆ â–„â–„â–„ â–ˆ â–ˆâ–ˆâ–€â–ˆ â–ˆ â–„â–„â–„ â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–„â–ˆâ–„â–ˆ â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–„â–„â–„â–„â–„â–ˆ â–ˆ â–„â–ˆ â–ˆâ–„â–„â–„â–„â–„â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆâ–„â–„â–„â–„â–„ â–„â–„â–„â–ˆâ–ˆâ–„â–„â–„ â–„â–„â–„â–„â–„â–„â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–„â–„â–„â–„â–„â–„â–„ â–„â–„â–„â–„ â–„â–„â–„â–„â–„â–„â–„ â–ˆâ–ˆâ–ˆâ–ˆ"
echo ""
echo "ğŸ’¡ Anyone can scan this to get your DID and verify your identity!"
echo ""

echo "ğŸ’° 2. Transfer Tokens"
echo "--------------------"
echo "Command: icn-cli qr transfer seed 100 did:icn:bob --memo 'Coffee payment'"
echo ""
echo "Result:"
echo "+-----------------------------------------------------------------------------------+"
echo "| icn://transfer?token=seed&amount=100&to=did%3Aicn%3Abob&memo=Coffee%20payment    |"
echo "+-----------------------------------------------------------------------------------+"
echo ""
echo "ğŸ“± QR Code:"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–„â–„â–„â–„â–„â–„â–„ â–„â–ˆâ–„â–„ â–„â–„â–„â–„â–„â–„â–„ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆ     â–ˆ â–ˆâ–€â–€â–ˆ â–ˆ     â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆ â–„â–„â–„ â–ˆ â–ˆ â–„â–ˆ â–ˆ â–„â–„â–„ â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–„â–„â–„â–ˆ â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–„â–„â–„â–„â–„â–ˆ â–„ â–ˆâ–ˆ â–ˆâ–„â–„â–„â–„â–„â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆâ–„â–„â–„â–„â–„ â–„â–„â–„â–„â–€â–„â–„â–„ â–„â–„â–„â–„â–„â–„â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–„â–„â–„â–„â–„â–„â–„ â–ˆâ–ˆâ–„â–„ â–„â–„â–„â–„â–„â–„â–„ â–ˆâ–ˆâ–ˆâ–ˆ"
echo ""
echo "ğŸ’¡ Bob can scan this to receive 100 seed tokens instantly!"
echo ""

echo "ğŸ—³ï¸ 3. Vote on Governance Proposal"
echo "---------------------------------"
echo "Command: icn-cli qr vote bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi approve"
echo ""
echo "Result:"
echo "+--------------------------------------------------------------------------------------+"
echo "| icn://vote?proposal=bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi&vote=approve |"
echo "+--------------------------------------------------------------------------------------+"
echo ""
echo "ğŸ“± QR Code:"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–„â–„â–„â–„â–„â–„â–„ â–ˆâ–„â–„â–„ â–„â–„â–„â–„â–„â–„â–„ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆ     â–ˆ â–„â–ˆâ–€â–ˆ â–ˆ     â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆ â–„â–„â–„ â–ˆ â–ˆâ–„â–„â–ˆ â–ˆ â–„â–„â–„ â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–€â–€â–„â–ˆ â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–„â–„â–„â–„â–„â–ˆ â–„â–„â–„â–ˆ â–ˆâ–„â–„â–„â–„â–„â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆâ–„â–„â–„â–„â–„ â–„â–„â–„â–ˆâ–„â–„â–„â–„ â–„â–„â–„â–„â–„â–„â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–„â–„â–„â–„â–„â–„â–„ â–€â–ˆâ–„â–„ â–„â–„â–„â–„â–„â–„â–„ â–ˆâ–ˆâ–ˆâ–ˆ"
echo ""
echo "ğŸ’¡ Cooperative members can scan to vote 'approve' during meetings!"
echo ""

echo "ğŸ¤ 4. Join Federation Invitation"
echo "--------------------------------"
echo "Command: icn-cli qr join 'Cooperative Network' --code 'WELCOME123'"
echo ""
echo "Result:"
echo "+--------------------------------------------------------------------------------+"
echo "| icn://join?federation=Cooperative%20Network&code=WELCOME123                   |"
echo "+--------------------------------------------------------------------------------+"
echo ""
echo "ğŸ“± QR Code:"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–„â–„â–„â–„â–„â–„â–„ â–ˆâ–„â–ˆâ–„ â–„â–„â–„â–„â–„â–„â–„ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆ     â–ˆ â–ˆâ–„â–„â–ˆ â–ˆ     â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆ â–„â–„â–„ â–ˆ â–„â–€â–„â–ˆ â–ˆ â–„â–„â–„ â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–€â–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–„â–„â–„â–„â–„â–ˆ â–„ â–ˆâ–„ â–ˆâ–„â–„â–„â–„â–„â–ˆ â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆâ–„â–„â–„â–„â–„ â–„â–„â–„â–„â–„â–„â–„â–„ â–„â–„â–„â–„â–„â–„â–ˆâ–ˆâ–ˆâ–ˆ"
echo "â–ˆâ–ˆâ–ˆâ–ˆ â–„â–„â–„â–„â–„â–„â–„ â–„â–„â–„â–„ â–„â–„â–„â–„â–„â–„â–„ â–ˆâ–ˆâ–ˆâ–ˆ"
echo ""
echo "ğŸ’¡ New members can scan to join the cooperative instantly!"
echo ""

echo "ğŸ” 5. Decode Action URLs"
echo "------------------------"
echo "Command: icn-cli qr decode 'icn://share?did=did%3Aicn%3Aalice'"
echo ""
echo "Result:"
echo "Decoded ICN Action:"
echo "{"
echo '  "ShareIdentity": {'
echo '    "did": "did:icn:alice"'
echo "  }"
echo "}"
echo ""
echo "ğŸ“± Action: Share Identity"
echo "   DID: did:icn:alice"
echo ""

echo "ğŸ¯ Real-World Use Cases"
echo "======================="
echo ""
echo "ğŸ¢ Business Cards:"
echo "   â€¢ NFC-enabled business cards with your DID"
echo "   â€¢ Tap phones to instantly exchange identities"
echo "   â€¢ No more typing long addresses!"
echo ""
echo "ğŸ›ï¸ Cooperative Meetings:"
echo "   â€¢ Project QR codes for proposals on screen"
echo "   â€¢ Members scan to vote instantly"
echo "   â€¢ Democratic decisions made seamless"
echo ""
echo "â˜• Daily Transactions:"
echo "   â€¢ Coffee shop displays QR for payment"
echo "   â€¢ Scan to pay with cooperative tokens"
echo "   â€¢ Mobile payment experience with full sovereignty"
echo ""
echo "ğŸ†” Identity Verification:"
echo "   â€¢ Share credentials with QR codes"
echo "   â€¢ Tap NFC to prove membership/access"
echo "   â€¢ Privacy-preserving verification"
echo ""
echo "ğŸŒ Federation Onboarding:"
echo "   â€¢ Join cooperatives by scanning invite codes"
echo "   â€¢ Automated setup and configuration"
echo "   â€¢ Seamless network effects"
echo ""

echo "âœ¨ Summary"
echo "=========="
echo ""
echo "The ICN QR/NFC layer transforms these complex operations:"
echo ""
echo "âŒ BEFORE: Copy did:icn:zn9j8n3k4l5m6n7o8p9q0r1s2t3u4v5w6x7y8z9a0b1c2d3e4f5g6"
echo "âœ… AFTER:  Tap phone or scan QR code"
echo ""
echo "âŒ BEFORE: Navigate API docs, construct JSON, make HTTP requests"
echo "âœ… AFTER:  Point camera and tap 'Approve'"
echo ""
echo "âŒ BEFORE: Share 50+ character addresses via text message"  
echo "âœ… AFTER:  Tap phones together (NFC) or show QR code"
echo ""
echo "This makes ICN accessible to EVERYONE, not just technical users!"
echo ""
echo "ğŸš€ Next: Frontend integration for complete mobile experience"