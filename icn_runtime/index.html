<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="ICN Runtime Crate"><title>icn_runtime - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-aa0817cf.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="icn_runtime" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-nightly (0060d5a2a 2025-08-04)" data-channel="nightly" data-search-js="search-fa3e91e5.js" data-settings-js="settings-5514c975.js" ><script src="../static.files/storage-68b7e25d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-eebb9057.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../icn_runtime/index.html">icn_<wbr>runtime</a><span class="version">0.2.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#icn-runtime-crate" title="ICN Runtime Crate">ICN Runtime Crate</a><ul><li><a href="#purpose" title="Purpose">Purpose</a></li><li><a href="#wasm-host-interaction" title="WASM Host Interaction">WASM Host Interaction</a></li><li><a href="#public-api-style" title="Public API Style">Public API Style</a></li><li><a href="#mana-regeneration" title="Mana Regeneration">Mana Regeneration</a></li><li><a href="#dag-integrity-checker" title="DAG Integrity Checker">DAG Integrity Checker</a></li><li><a href="#dag-storage" title="DAG Storage">DAG Storage</a></li><li><a href="#wasm-execution-limits" title="WASM Execution Limits">WASM Execution Limits</a></li><li><a href="#trust-validation" title="Trust Validation">Trust Validation</a></li><li><a href="#error-types" title="Error Types">Error Types</a></li><li><a href="#contributing" title="Contributing">Contributing</a></li><li><a href="#license" title="License">License</a></li></ul></li><li><a href="#icn-runtime-crate-1" title="ICN Runtime Crate">ICN Runtime Crate</a><ul><li><a href="#overview" title="Overview">Overview</a></li><li><a href="#quick-start-example" title="Quick Start Example">Quick Start Example</a></li><li><a href="#host-function-integration" title="Host Function Integration">Host Function Integration</a></li><li><a href="#service-architecture" title="Service Architecture">Service Architecture</a></li><li><a href="#security-and-sandboxing" title="Security and Sandboxing">Security and Sandboxing</a></li><li><a href="#production-considerations" title="Production Considerations">Production Considerations</a></li></ul></li></ul><h3><a href="#reexports">Crate Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#macros" title="Macros">Macros</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>icn_runtime</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/icn_runtime/lib.rs.html#1-1608">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="icn-runtime-crate"><a class="doc-anchor" href="#icn-runtime-crate">§</a>ICN Runtime Crate</h2>
<blockquote>
<p><strong>⚠️ Development Status</strong>: This crate contains many stub implementations and incomplete features. WASM execution and host functions may not be fully implemented.</p>
</blockquote>
<p>This crate provides the execution environment for InterCooperative Network (ICN) logic, including WebAssembly (WASM) runtimes and host interaction capabilities.</p>
<p>See <a href="../../CONTEXT.md">CONTEXT.md</a> for ICN Core design philosophy and crate roles.
See <a href="../../docs/ASYNC_OVERVIEW.md">docs/ASYNC_OVERVIEW.md</a> for async API guidelines.</p>
<h3 id="purpose"><a class="doc-anchor" href="#purpose">§</a>Purpose</h3>
<p>The <code>icn-runtime</code> crate is responsible for:</p>
<ul>
<li><strong>Execution Environment:</strong> Defining and managing the environment where ICN’s core logic or user-defined contracts/scripts run.</li>
<li><strong>WASM Runtime (if applicable):</strong> If ICN uses WebAssembly for CCL contracts or extensible logic, this crate would host and manage the WASM execution engine (e.g., Wasmer, Wasmtime).</li>
<li><strong>Host Functions:</strong> Providing a set of functions (host calls) that WASM modules or other sandboxed code can use to interact with the ICN node’s capabilities (e.g., accessing storage, sending network messages, interacting with ledgers).</li>
<li><strong>Sandboxing and Security:</strong> Ensuring that executed code is properly isolated and cannot compromise the host node or the network.</li>
<li><strong>Metering and Resource Limits:</strong> Potentially implementing mechanisms to measure and limit the computational resources (e.g., mana) consumed by executed code.</li>
</ul>
<p>This crate is key to enabling safe and extensible functionality within ICN nodes.</p>
<h3 id="wasm-host-interaction"><a class="doc-anchor" href="#wasm-host-interaction">§</a>WASM Host Interaction</h3>
<p>User code compiled to WebAssembly communicates with the runtime through host
functions exposed under the <code>icn</code> module. Each host call has a numeric constant
in <code>src/abi.rs</code> and is linked to the <code>RuntimeContext</code> when the module is
executed. A module imports the functions like so:</p>
<div class="example-wrap"><pre class="language-wat"><code>(import &quot;icn&quot; &quot;host_submit_mesh_job&quot; (func $submit (param i32 i32) (result i64)))</code></pre></div>
<p>The guest allocates memory for the job JSON, then calls <code>$submit</code> with the
pointer and length of that buffer. The runtime reads the bytes from the module’s
linear memory, deserializes the job, and returns the created job ID as a 64‑bit
value. Other host calls follow the same pointer/length convention for string
parameters.</p>
<p>Binding helpers can reduce boilerplate when exposing host calls. One possible
macro looks like this:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="macro">macro_rules!</span> hostcall_str {
    (<span class="macro-nonterminal">$linker</span>:expr, <span class="macro-nonterminal">$name</span>:literal, <span class="macro-nonterminal">$func</span>:ident) =&gt; {
        <span class="macro-nonterminal">$linker</span>.func_wrap(
            <span class="string">"icn"</span>,
            <span class="macro-nonterminal">$name</span>,
            <span class="kw">move </span>|<span class="kw-2">mut </span>caller: wasmtime::Caller&lt;<span class="lifetime">'_</span>, std::sync::Arc&lt;RuntimeContext&gt;&gt;, ptr: u32, len: u32| {
                <span class="kw">let </span>memory = caller
                    .get_export(<span class="string">"memory"</span>)
                    .unwrap()
                    .into_memory()
                    .unwrap();
                <span class="kw">let </span><span class="kw-2">mut </span>buf = <span class="macro">vec!</span>[<span class="number">0u8</span>; len <span class="kw">as </span>usize];
                memory.read(<span class="kw-2">&amp;</span>caller, ptr <span class="kw">as </span>usize, <span class="kw-2">&amp;mut </span>buf).unwrap();
                <span class="kw">let </span>arg = String::from_utf8(buf).unwrap();
                <span class="kw">let </span>handle = tokio::runtime::Handle::current();
                handle.block_on(<span class="macro-nonterminal">$func</span>(caller.data(), <span class="kw-2">&amp;</span>arg)).unwrap();
            },
        )
    };
}</code></pre></div>
<p>This pattern ensures memory is safely copied from the guest and allows host
functions like <code>host_submit_mesh_job</code> to remain concise.</p>
<h3 id="public-api-style"><a class="doc-anchor" href="#public-api-style">§</a>Public API Style</h3>
<p>The API style emphasizes:</p>
<ul>
<li><strong>Security:</strong> Robust sandboxing and controlled access to host capabilities.</li>
<li><strong>Performance:</strong> Efficient execution of runtime logic, especially for WASM.</li>
<li><strong>Modularity:</strong> Clear separation between the runtime environment and the code being executed.</li>
<li><strong>Well-Defined Interface:</strong> A stable and clear set of host functions for guest code.</li>
</ul>
<h4 id="governance"><a class="doc-anchor" href="#governance">§</a>Governance</h4>
<p>The runtime exposes host calls for managing governance proposals. Voting can be
closed via <code>host_close_governance_proposal_voting</code>, returning the final
<code>ProposalStatus</code> as a string. Accepted proposals may then be executed with
<code>host_execute_governance_proposal</code>, which broadcasts the updated proposal and
rewards the proposer.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>icn_runtime::{
    context::RuntimeContext,
    host_close_governance_proposal_voting,
    host_execute_governance_proposal,
};

<span class="kw">async fn </span>finalize_proposal(ctx: <span class="kw-2">&amp;</span>RuntimeContext, pid: <span class="kw-2">&amp;</span>str) -&gt; <span class="prelude-ty">Result</span>&lt;(), icn_runtime::HostAbiError&gt; {
    <span class="kw">let </span>status = host_close_governance_proposal_voting(ctx, pid).<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="kw">if </span>status == <span class="string">"Accepted" </span>{
host_execute_governance_proposal(ctx, pid).<span class="kw">await</span><span class="question-mark">?</span>;
    }
    <span class="prelude-val">Ok</span>(())
}</code></pre></div>
<p>When a proposal updates a runtime parameter, the new value is persisted by
anchoring a <code>ParameterUpdate</code> record to the DAG. These records include the
parameter name, value, timestamp, and the DID of the signer so nodes can
replay configuration history.</p>
<h4 id="zero-knowledge-proofs"><a class="doc-anchor" href="#zero-knowledge-proofs">§</a>Zero-Knowledge Proofs</h4>
<p><code>host_verify_zk_proof</code> validates a serialized <code>ZkCredentialProof</code> and returns
<code>true</code> when the proof is valid for the selected backend. <code>host_generate_zk_proof</code>
emits a dummy proof for testing. WASM modules can call these via the
<code>wasm_host_verify_zk_proof</code> and <code>wasm_host_generate_zk_proof</code> helpers.</p>
<p>Both host calls deduct mana from the caller when executed. The amount removed
is proportional to the complexity of the proving circuit. If proof generation or
verification fails, the deducted mana is automatically refunded so callers only
pay for successful operations.</p>
<h3 id="mana-regeneration"><a class="doc-anchor" href="#mana-regeneration">§</a>Mana Regeneration</h3>
<p><code>RuntimeContext</code> can automatically replenish mana. Use
<code>spawn_mana_regenerator</code> to start a background task that credits every
account with a fixed amount on a configurable interval.</p>
<h3 id="dag-integrity-checker"><a class="doc-anchor" href="#dag-integrity-checker">§</a>DAG Integrity Checker</h3>
<p>To detect storage corruption, call <code>spawn_integrity_checker</code> with a check
interval. The task runs <code>icn_dag::verify_all</code> over the configured DAG store
and logs an error if verification fails. You may adjust the interval and
implement a custom repair strategy if desired.</p>
<h3 id="dag-storage"><a class="doc-anchor" href="#dag-storage">§</a>DAG Storage</h3>
<p><code>RuntimeContext</code> selects a storage backend for receipts and other DAG data. When
compiled with the <code>async</code> feature, use <code>TokioFileDagStore</code> (requires the Tokio
runtime):</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>icn_runtime::context::{RuntimeContext, StubMeshNetworkService, Ed25519Signer};
<span class="kw">use </span>icn_common::Did;
<span class="kw">use </span>icn_identity::generate_ed25519_keypair;
<span class="kw">use </span>std::sync::Arc;
<span class="kw">use </span>tokio::sync::Mutex;

<span class="attr">#[cfg(feature = <span class="string">"async"</span>)]
</span><span class="kw">let </span>dag_store = Arc::new(Mutex::new(icn_dag::TokioFileDagStore::new(<span class="string">"./dag"</span>.into()).unwrap()));
<span class="attr">#[cfg(not(feature = <span class="string">"async"</span>))]
</span><span class="kw">let </span>dag_store = Arc::new(Mutex::new(icn_dag::FileDagStore::new(<span class="string">"./dag"</span>.into()).unwrap()));

<span class="kw">let </span>ctx = RuntimeContext::new_with_services(
    Did::new(<span class="string">"key"</span>, <span class="string">"node"</span>),
    Arc::new(StubMeshNetworkService::new()),
    Arc::new(Ed25519Signer::new(generate_ed25519_keypair().<span class="number">0</span>)),
    Arc::new(icn_identity::KeyDidResolver),
    dag_store,
);</code></pre></div>
<h3 id="wasm-execution-limits"><a class="doc-anchor" href="#wasm-execution-limits">§</a>WASM Execution Limits</h3>
<p><code>WasmExecutor</code> instances can be configured with a maximum linear memory size and
a fuel allowance. Fuel metering is enabled via Wasmtime and each instruction
consumes fuel. When a module exhausts its fuel or attempts to grow memory beyond
the configured limit, execution is aborted.</p>
<h3 id="trust-validation"><a class="doc-anchor" href="#trust-validation">§</a>Trust Validation</h3>
<p>Before executing a CCL contract, the runtime checks that the executor is trusted
by the job creator for the required scope using
<code>TrustPolicyEngine::validate_trust</code>. If the validation fails, the job is
rejected with a <code>PermissionDenied</code> error.</p>
<h3 id="error-types"><a class="doc-anchor" href="#error-types">§</a>Error Types</h3>
<p><code>CommonError</code> is used for all runtime failures.</p>
<ul>
<li><code>MissingOrInvalidReceipt</code> – receipt missing or failed validation.</li>
<li><code>UnknownJob</code> – referenced job ID does not exist.</li>
<li><code>ExecutionTimeout</code> – executor failed to produce a receipt in time.</li>
<li><code>ProcessingFailure</code> – job failed during runtime processing.</li>
<li><code>Serialization</code> – JSON or binary serialization failure.</li>
<li><code>InvalidSpec</code> – job specification failed validation.</li>
<li><code>PermissionDenied</code> – caller lacked permission for the operation.</li>
<li><code>InvalidJobState</code> – operation not allowed in the job’s current state.</li>
<li><code>Internal</code> – generic internal runtime error.</li>
<li><code>HostAbi</code> – catch-all for unmapped host errors.</li>
<li><code>Economic</code> – insufficient mana or other economic constraint.</li>
<li><code>NotImplemented</code> – feature is not yet implemented.</li>
<li><code>DagOperationFailed</code> – failure while anchoring data to the DAG.</li>
<li><code>SignatureError</code> – invalid or unverifiable signature.</li>
<li><code>CryptoError</code> – general cryptography failure.</li>
<li><code>WasmExecutionError</code> – error during WASM execution.</li>
<li><code>ResourceLimitExceeded</code> – operation exceeded configured limits.</li>
<li><code>InvalidSystemApiCall</code> – guest attempted an unsupported host call.</li>
</ul>
<h3 id="contributing"><a class="doc-anchor" href="#contributing">§</a>Contributing</h3>
<p>Contributions are welcome! Please see the main <a href="../../CONTRIBUTING.md">CONTRIBUTING.md</a> in the root of the <code>icn-core</code> repository for guidelines.</p>
<h3 id="license"><a class="doc-anchor" href="#license">§</a>License</h3>
<p>Licensed under the Apache License, Version 2.0. See <a href="../../LICENSE">LICENSE</a>.</p>
<h2 id="icn-runtime-crate-1"><a class="doc-anchor" href="#icn-runtime-crate-1">§</a>ICN Runtime Crate</h2>
<p>Core execution environment for InterCooperative Network (ICN) nodes providing WASM runtime,
host functions, and service orchestration capabilities.</p>
<h3 id="overview"><a class="doc-anchor" href="#overview">§</a>Overview</h3>
<p>The ICN Runtime manages the execution environment where governance contracts (CCL),
mesh jobs, and node operations run securely and efficiently.</p>
<h4 id="key-components"><a class="doc-anchor" href="#key-components">§</a>Key Components</h4>
<ul>
<li><strong>WASM Runtime</strong>: Wasmtime-based execution with sandboxing and resource limits</li>
<li><strong>Host ABI</strong>: ~40+ host functions for WASM modules to access ICN services</li>
<li><strong>RuntimeContext</strong>: Central coordinator managing identity, storage, networking</li>
<li><strong>Service Configuration</strong>: Production/development/testing service selection</li>
</ul>
<h3 id="quick-start-example"><a class="doc-anchor" href="#quick-start-example">§</a>Quick Start Example</h3>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>icn_runtime::{RuntimeContext, config::RuntimeConfig};
<span class="kw">use </span>icn_common::{Did, CommonError};

<span class="kw">async fn </span>basic_runtime_setup() -&gt; <span class="prelude-ty">Result</span>&lt;(), CommonError&gt; {
    <span class="comment">// Create runtime configuration
    </span><span class="kw">let </span>config = RuntimeConfig::development()
        .with_storage_backend(<span class="string">"memory"</span>)
        .with_api_key(<span class="string">"dev-key-123"</span>);
     
    <span class="comment">// Initialize runtime context
    </span><span class="kw">let </span>runtime_ctx = RuntimeContext::new(config).<span class="kw">await</span><span class="question-mark">?</span>;
     
    <span class="comment">// Runtime is now ready for job execution, governance, etc.
    </span><span class="macro">println!</span>(<span class="string">"Runtime initialized with DID: {}"</span>, runtime_ctx.get_node_did());
     
    <span class="prelude-val">Ok</span>(())
}</code></pre></div>
<h3 id="host-function-integration"><a class="doc-anchor" href="#host-function-integration">§</a>Host Function Integration</h3>
<p>WASM modules access ICN services through the host ABI:</p>
<div class="example-wrap"><pre class="language-wat"><code>;; Example WASM module calling ICN host functions
(module
  (import &quot;icn&quot; &quot;host_get_mana_balance&quot; (func $get_mana (param i32 i32) (result i64)))
  (import &quot;icn&quot; &quot;host_submit_mesh_job&quot; (func $submit_job (param i32 i32) (result i64)))
   
  (func $main
    ;; Get current mana balance
    (call $get_mana (i32.const 0) (i32.const 32))
    ;; Submit a mesh job
    (call $submit_job (i32.const 64) (i32.const 256))
  )
)</code></pre></div><h3 id="service-architecture"><a class="doc-anchor" href="#service-architecture">§</a>Service Architecture</h3>
<p>The runtime uses trait-based service abstractions with multiple backend implementations:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>icn_runtime::config::{StorageConfig, NetworkConfig};

<span class="comment">// Configure different storage backends
</span><span class="kw">let </span>storage_config = StorageConfig {
    backend: <span class="string">"postgresql"</span>.to_string(),  <span class="comment">// or "rocksdb", "sled", "memory"
    </span>connection_string: <span class="prelude-val">Some</span>(<span class="string">"postgresql://localhost/icn"</span>.to_string()),
    ..Default::default()
};

<span class="comment">// Configure networking
</span><span class="kw">let </span>network_config = NetworkConfig {
    p2p_enabled: <span class="bool-val">true</span>,
    bootstrap_peers: <span class="macro">vec!</span>[<span class="string">"/ip4/127.0.0.1/tcp/4001"</span>.to_string()],
    ..Default::default()
};</code></pre></div>
<h3 id="security-and-sandboxing"><a class="doc-anchor" href="#security-and-sandboxing">§</a>Security and Sandboxing</h3>
<ul>
<li><strong>Resource Limits</strong>: CPU time, memory, and mana consumption limits</li>
<li><strong>Capability-based Security</strong>: Host functions require specific permissions</li>
<li><strong>Signature Verification</strong>: All operations cryptographically signed</li>
</ul>
<h3 id="production-considerations"><a class="doc-anchor" href="#production-considerations">§</a>Production Considerations</h3>
<p>The runtime requires security review and production hardening:</p>
<ul>
<li>Host function implementations need security audit</li>
<li>WASM module verification and signing</li>
<li>Production monitoring and alerting integration</li>
</ul>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><dl class="item-table reexports"><dt id="reexport.DagStoreMutexType"><code>pub use context::<a class="type" href="context/type.DagStoreMutexType.html" title="type icn_runtime::context::DagStoreMutexType">DagStoreMutexType</a>;</code></dt><dt id="reexport.HostAbiError"><code>pub use context::<a class="enum" href="context/errors/enum.HostAbiError.html" title="enum icn_runtime::context::errors::HostAbiError">HostAbiError</a>;</code></dt><dt id="reexport.RuntimeContext"><code>pub use context::<a class="struct" href="context/runtime_context/struct.RuntimeContext.html" title="struct icn_runtime::context::runtime_context::RuntimeContext">RuntimeContext</a>;</code></dt><dt id="reexport.Signer"><code>pub use context::<a class="trait" href="context/signers/trait.Signer.html" title="trait icn_runtime::context::signers::Signer">Signer</a>;</code></dt><dt id="reexport.decode_result_i32"><code>pub use result_encoding::<a class="fn" href="result_encoding/fn.decode_result_i32.html" title="fn icn_runtime::result_encoding::decode_result_i32">decode_result_i32</a>;</code></dt><dt id="reexport.encode_result_i32"><code>pub use result_encoding::<a class="fn" href="result_encoding/fn.encode_result_i32.html" title="fn icn_runtime::result_encoding::encode_result_i32">encode_result_i32</a>;</code></dt><dt id="reexport.templates"><code>pub use config::<a class="mod" href="config/templates/index.html" title="mod icn_runtime::config::templates">templates</a>;</code></dt><dt id="reexport.EnvironmentConfig"><code>pub use config::<a class="struct" href="config/struct.EnvironmentConfig.html" title="struct icn_runtime::config::EnvironmentConfig">EnvironmentConfig</a>;</code></dt><dt id="reexport.GovernanceConfig"><code>pub use config::<a class="struct" href="config/struct.GovernanceConfig.html" title="struct icn_runtime::config::GovernanceConfig">GovernanceConfig</a>;</code></dt><dt id="reexport.IdentityConfig"><code>pub use config::<a class="struct" href="config/struct.IdentityConfig.html" title="struct icn_runtime::config::IdentityConfig">IdentityConfig</a>;</code></dt><dt id="reexport.NetworkConfig"><code>pub use config::<a class="struct" href="config/struct.NetworkConfig.html" title="struct icn_runtime::config::NetworkConfig">NetworkConfig</a>;</code></dt><dt id="reexport.RuntimeConfig"><code>pub use config::<a class="struct" href="config/struct.RuntimeConfig.html" title="struct icn_runtime::config::RuntimeConfig">RuntimeConfig</a>;</code></dt><dt id="reexport.RuntimeConfigBuilder"><code>pub use config::<a class="struct" href="config/struct.RuntimeConfigBuilder.html" title="struct icn_runtime::config::RuntimeConfigBuilder">RuntimeConfigBuilder</a>;</code></dt><dt id="reexport.RuntimeParametersConfig"><code>pub use config::<a class="struct" href="config/struct.RuntimeParametersConfig.html" title="struct icn_runtime::config::RuntimeParametersConfig">RuntimeParametersConfig</a>;</code></dt><dt id="reexport.StorageConfig"><code>pub use config::<a class="struct" href="config/struct.StorageConfig.html" title="struct icn_runtime::config::StorageConfig">StorageConfig</a>;</code></dt><dt id="reexport.CastVotePayload"><code>pub use context::<a class="struct" href="context/runtime_context/struct.CastVotePayload.html" title="struct icn_runtime::context::runtime_context::CastVotePayload">CastVotePayload</a>;</code></dt><dt id="reexport.CloseProposalResult"><code>pub use context::<a class="struct" href="context/runtime_context/struct.CloseProposalResult.html" title="struct icn_runtime::context::runtime_context::CloseProposalResult">CloseProposalResult</a>;</code></dt><dt id="reexport.ConcreteHostEnvironment"><code>pub use context::<a class="struct" href="context/host_environment/struct.ConcreteHostEnvironment.html" title="struct icn_runtime::context::host_environment::ConcreteHostEnvironment">ConcreteHostEnvironment</a>;</code></dt><dt id="reexport.CreateProposalPayload"><code>pub use context::<a class="struct" href="context/runtime_context/struct.CreateProposalPayload.html" title="struct icn_runtime::context::runtime_context::CreateProposalPayload">CreateProposalPayload</a>;</code></dt><dt id="reexport.DefaultMeshNetworkService"><code>pub use context::<a class="struct" href="context/mesh_network/struct.DefaultMeshNetworkService.html" title="struct icn_runtime::context::mesh_network::DefaultMeshNetworkService">DefaultMeshNetworkService</a>;</code></dt><dt id="reexport.Ed25519Signer"><code>pub use context::<a class="struct" href="context/signers/struct.Ed25519Signer.html" title="struct icn_runtime::context::signers::Ed25519Signer">Ed25519Signer</a>;</code></dt><dt id="reexport.EnvironmentType"><code>pub use context::<a class="enum" href="context/runtime_context/enum.EnvironmentType.html" title="enum icn_runtime::context::runtime_context::EnvironmentType">EnvironmentType</a>;</code></dt><dt id="reexport.HostEnvironment"><code>pub use context::<a class="trait" href="context/host_environment/trait.HostEnvironment.html" title="trait icn_runtime::context::host_environment::HostEnvironment">HostEnvironment</a>;</code></dt><dt id="reexport.JobAssignmentNotice"><code>pub use context::<a class="struct" href="context/mesh_network/struct.JobAssignmentNotice.html" title="struct icn_runtime::context::mesh_network::JobAssignmentNotice">JobAssignmentNotice</a>;</code></dt><dt id="reexport.MeshNetworkService"><code>pub use context::<a class="trait" href="context/mesh_network/trait.MeshNetworkService.html" title="trait icn_runtime::context::mesh_network::MeshNetworkService">MeshNetworkService</a>;</code></dt><dt id="reexport.MeshNetworkServiceType"><code>pub use context::<a class="enum" href="context/runtime_context/enum.MeshNetworkServiceType.html" title="enum icn_runtime::context::runtime_context::MeshNetworkServiceType">MeshNetworkServiceType</a>;</code></dt><dt id="reexport.RuntimeContextBuilder"><code>pub use context::<a class="struct" href="context/runtime_context/struct.RuntimeContextBuilder.html" title="struct icn_runtime::context::runtime_context::RuntimeContextBuilder">RuntimeContextBuilder</a>;</code></dt><dt id="reexport.SimpleManaLedger"><code>pub use context::<a class="struct" href="context/mana/struct.SimpleManaLedger.html" title="struct icn_runtime::context::mana::SimpleManaLedger">SimpleManaLedger</a>;</code></dt><dt id="reexport.StubMeshNetworkService"><code>pub use context::<a class="struct" href="context/stubs/struct.StubMeshNetworkService.html" title="struct icn_runtime::context::stubs::StubMeshNetworkService">StubMeshNetworkService</a>;</code></dt><dt><code>pub use <a class="mod" href="abi/index.html" title="mod icn_runtime::abi">abi</a>::*;</code></dt></dl><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="abi/index.html" title="mod icn_runtime::abi">abi</a></dt><dd>Defines the Host ABI function indices for the ICN runtime.</dd><dt><a class="mod" href="config/index.html" title="mod icn_runtime::config">config</a></dt><dd>Configuration management for ICN runtime.</dd><dt><a class="mod" href="constants/index.html" title="mod icn_runtime::constants">constants</a></dt><dt><a class="mod" href="context/index.html" title="mod icn_runtime::context">context</a></dt><dd>Runtime context module for the ICN runtime.</dd><dt><a class="mod" href="error_recovery/index.html" title="mod icn_runtime::error_recovery">error_<wbr>recovery</a></dt><dd>Production-ready error recovery patterns for ICN runtime operations.</dd><dt><a class="mod" href="execution_monitor/index.html" title="mod icn_runtime::execution_monitor">execution_<wbr>monitor</a></dt><dt><a class="mod" href="executor/index.html" title="mod icn_runtime::executor">executor</a></dt><dd>This module provides executor-side functionality for running mesh jobs.</dd><dt><a class="mod" href="memory/index.html" title="mod icn_runtime::memory">memory</a></dt><dt><a class="mod" href="metrics/index.html" title="mod icn_runtime::metrics">metrics</a></dt><dt><a class="mod" href="result_encoding/index.html" title="mod icn_runtime::result_encoding">result_<wbr>encoding</a></dt></dl><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><dl class="item-table"><dt><a class="macro" href="macro.ensure_production_service.html" title="macro icn_runtime::ensure_production_service">ensure_<wbr>production_<wbr>service</a></dt><dd>Macro to enforce production service usage</dd><dt><a class="macro" href="macro.validate_service_config.html" title="macro icn_runtime::validate_service_config">validate_<wbr>service_<wbr>config</a></dt><dd>Macro to validate service configuration at compile time</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.ReputationUpdater.html" title="struct icn_runtime::ReputationUpdater">Reputation<wbr>Updater</a></dt><dd>Reputation updater for handling execution receipts.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.RuntimeError.html" title="enum icn_runtime::RuntimeError">Runtime<wbr>Error</a></dt></dl><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><dl class="item-table"><dt><a class="constant" href="constant.MAX_JOB_JSON_SIZE.html" title="constant icn_runtime::MAX_JOB_JSON_SIZE">MAX_<wbr>JOB_<wbr>JSON_<wbr>SIZE</a></dt></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.StorageService.html" title="trait icn_runtime::StorageService">Storage<wbr>Service</a></dt><dd>Asynchronous version of [<code>StorageService</code>].</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.calculate_zk_cost.html" title="fn icn_runtime::calculate_zk_cost">calculate_<wbr>zk_<wbr>cost</a></dt><dd>Convert a circuit complexity score into a mana cost.</dd><dt><a class="fn" href="fn.execute_icn_script.html" title="fn icn_runtime::execute_icn_script">execute_<wbr>icn_<wbr>script</a></dt><dt><a class="fn" href="fn.generate_zk_proof.html" title="fn icn_runtime::generate_zk_proof">generate_<wbr>zk_<wbr>proof</a></dt><dd>Generate a credential proof using the runtime’s ZK prover.</dd><dt><a class="fn" href="fn.host_account_credit_mana.html" title="fn icn_runtime::host_account_credit_mana">host_<wbr>account_<wbr>credit_<wbr>mana</a></dt><dd>ABI Index: (defined in <code>abi::ABI_HOST_ACCOUNT_CREDIT_MANA</code>)
Credits mana to the specified account.</dd><dt><a class="fn" href="fn.host_account_get_mana.html" title="fn icn_runtime::host_account_get_mana">host_<wbr>account_<wbr>get_<wbr>mana</a></dt><dd>ABI Index: (defined in <code>abi::ABI_HOST_ACCOUNT_GET_MANA</code>)
Retrieves the current mana for the calling account/identity, using the provided runtime context.</dd><dt><a class="fn" href="fn.host_account_spend_mana.html" title="fn icn_runtime::host_account_spend_mana">host_<wbr>account_<wbr>spend_<wbr>mana</a></dt><dd>ABI Index: (defined in <code>abi::ABI_HOST_ACCOUNT_SPEND_MANA</code>)
Attempts to spend mana from the specified account, using the provided runtime context.</dd><dt><a class="fn" href="fn.host_anchor_receipt.html" title="fn icn_runtime::host_anchor_receipt">host_<wbr>anchor_<wbr>receipt</a></dt><dd>ABI Index: (defined in <code>abi::ABI_HOST_ANCHOR_RECEIPT</code>)
Anchors an execution receipt to the DAG and updates reputation.</dd><dt><a class="fn" href="fn.host_cast_governance_vote.html" title="fn icn_runtime::host_cast_governance_vote">host_<wbr>cast_<wbr>governance_<wbr>vote</a></dt><dd>Casts a governance vote using the runtime context.</dd><dt><a class="fn" href="fn.host_close_governance_proposal_voting.html" title="fn icn_runtime::host_close_governance_proposal_voting">host_<wbr>close_<wbr>governance_<wbr>proposal_<wbr>voting</a></dt><dd>Closes voting on a governance proposal and broadcasts the final
[<code>icn_governance::ProposalStatus</code>] across the mesh network.</dd><dt><a class="fn" href="fn.host_create_governance_proposal.html" title="fn icn_runtime::host_create_governance_proposal">host_<wbr>create_<wbr>governance_<wbr>proposal</a></dt><dd>Creates a governance proposal using the runtime context.</dd><dt><a class="fn" href="fn.host_delegate_vote.html" title="fn icn_runtime::host_delegate_vote">host_<wbr>delegate_<wbr>vote</a></dt><dd>Delegate voting power from one DID to another.</dd><dt><a class="fn" href="fn.host_execute_governance_proposal.html" title="fn icn_runtime::host_execute_governance_proposal">host_<wbr>execute_<wbr>governance_<wbr>proposal</a></dt><dd>Executes an accepted governance proposal, rewarding the proposer and
broadcasting the updated proposal to the mesh network on success.</dd><dt><a class="fn" href="fn.host_generate_zk_proof.html" title="fn icn_runtime::host_generate_zk_proof">host_<wbr>generate_<wbr>zk_<wbr>proof</a></dt><dd>Generate a dummy zero-knowledge credential proof.</dd><dt><a class="fn" href="fn.host_get_job_status.html" title="fn icn_runtime::host_get_job_status">host_<wbr>get_<wbr>job_<wbr>status</a></dt><dd>Get the complete lifecycle status of a job by reconstructing it from DAG traversal.</dd><dt><a class="fn" href="fn.host_get_pending_mesh_jobs.html" title="fn icn_runtime::host_get_pending_mesh_jobs">host_<wbr>get_<wbr>pending_<wbr>mesh_<wbr>jobs</a></dt><dd>ABI Index: (defined in <code>abi::ABI_HOST_GET_PENDING_MESH_JOBS</code>)
Retrieves a snapshot of the current pending mesh jobs from the runtime context.</dd><dt><a class="fn" href="fn.host_get_reputation.html" title="fn icn_runtime::host_get_reputation">host_<wbr>get_<wbr>reputation</a></dt><dd>Get the reputation of a DID.</dd><dt><a class="fn" href="fn.host_revoke_delegation.html" title="fn icn_runtime::host_revoke_delegation">host_<wbr>revoke_<wbr>delegation</a></dt><dd>Revoke any vote delegation for the given DID.</dd><dt><a class="fn" href="fn.host_submit_mesh_job.html" title="fn icn_runtime::host_submit_mesh_job">host_<wbr>submit_<wbr>mesh_<wbr>job</a></dt><dd>ABI Index: (defined in <code>abi::ABI_HOST_SUBMIT_MESH_JOB</code>)
Submits a job to the mesh network using the provided runtime context.</dd><dt><a class="fn" href="fn.host_verify_zk_proof.html" title="fn icn_runtime::host_verify_zk_proof">host_<wbr>verify_<wbr>zk_<wbr>proof</a></dt><dd>Verify a zero-knowledge credential proof.</dd><dt><a class="fn" href="fn.host_verify_zk_revocation_proof.html" title="fn icn_runtime::host_verify_zk_revocation_proof">host_<wbr>verify_<wbr>zk_<wbr>revocation_<wbr>proof</a></dt><dd>Verify a zero-knowledge revocation proof.</dd><dt><a class="fn" href="fn.register_runtime_metrics.html" title="fn icn_runtime::register_runtime_metrics">register_<wbr>runtime_<wbr>metrics</a></dt><dd>Register runtime-specific metrics with a provided registry
This function should be called by icn-node to register runtime metrics
and avoid circular dependency issues</dd><dt><a class="fn" href="fn.verify_zk_proof.html" title="fn icn_runtime::verify_zk_proof">verify_<wbr>zk_<wbr>proof</a></dt><dd>Verify a credential proof using the runtime’s ZK verifier.</dd><dt><a class="fn" href="fn.wasm_host_account_get_mana.html" title="fn icn_runtime::wasm_host_account_get_mana">wasm_<wbr>host_<wbr>account_<wbr>get_<wbr>mana</a></dt><dd>WASM wrapper for <a href="fn.host_account_get_mana.html" title="fn icn_runtime::host_account_get_mana"><code>host_account_get_mana</code></a>.</dd><dt><a class="fn" href="fn.wasm_host_account_spend_mana.html" title="fn icn_runtime::wasm_host_account_spend_mana">wasm_<wbr>host_<wbr>account_<wbr>spend_<wbr>mana</a></dt><dd>WASM wrapper for <a href="fn.host_account_spend_mana.html" title="fn icn_runtime::host_account_spend_mana"><code>host_account_spend_mana</code></a>.</dd><dt><a class="fn" href="fn.wasm_host_anchor_receipt.html" title="fn icn_runtime::wasm_host_anchor_receipt">wasm_<wbr>host_<wbr>anchor_<wbr>receipt</a></dt><dd>WASM wrapper for <a href="fn.host_anchor_receipt.html" title="fn icn_runtime::host_anchor_receipt"><code>host_anchor_receipt</code></a>.</dd><dt><a class="fn" href="fn.wasm_host_generate_zk_proof.html" title="fn icn_runtime::wasm_host_generate_zk_proof">wasm_<wbr>host_<wbr>generate_<wbr>zk_<wbr>proof</a></dt><dd>WASM wrapper for <a href="fn.host_generate_zk_proof.html" title="fn icn_runtime::host_generate_zk_proof"><code>host_generate_zk_proof</code></a>.</dd><dt><a class="fn" href="fn.wasm_host_get_pending_mesh_jobs.html" title="fn icn_runtime::wasm_host_get_pending_mesh_jobs">wasm_<wbr>host_<wbr>get_<wbr>pending_<wbr>mesh_<wbr>jobs</a></dt><dd>WASM wrapper for <a href="fn.host_get_pending_mesh_jobs.html" title="fn icn_runtime::host_get_pending_mesh_jobs"><code>host_get_pending_mesh_jobs</code></a>.</dd><dt><a class="fn" href="fn.wasm_host_submit_mesh_job.html" title="fn icn_runtime::wasm_host_submit_mesh_job">wasm_<wbr>host_<wbr>submit_<wbr>mesh_<wbr>job</a></dt><dd>WASM wrapper for <a href="fn.host_submit_mesh_job.html" title="fn icn_runtime::host_submit_mesh_job"><code>host_submit_mesh_job</code></a>.</dd><dt><a class="fn" href="fn.wasm_host_verify_zk_proof.html" title="fn icn_runtime::wasm_host_verify_zk_proof">wasm_<wbr>host_<wbr>verify_<wbr>zk_<wbr>proof</a></dt><dd>WASM wrapper for <a href="fn.host_verify_zk_proof.html" title="fn icn_runtime::host_verify_zk_proof"><code>host_verify_zk_proof</code></a>.</dd><dt><a class="fn" href="fn.wasm_host_verify_zk_revocation_proof.html" title="fn icn_runtime::wasm_host_verify_zk_revocation_proof">wasm_<wbr>host_<wbr>verify_<wbr>zk_<wbr>revocation_<wbr>proof</a></dt><dd>WASM wrapper for <a href="fn.host_verify_zk_revocation_proof.html" title="fn icn_runtime::host_verify_zk_revocation_proof"><code>host_verify_zk_revocation_proof</code></a>.</dd></dl></section></div></main></body></html>